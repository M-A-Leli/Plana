<div class="calendar-container">
  <div class="calendar-header">
    <button (click)="prevMonth()">&#8249;</button>
    <div class="month-year">
      <h2>{{ currentMonthYear }}</h2>
      <p>Today: {{ today }}</p>
    </div>
    <button (click)="nextMonth()">&#8250;</button>
  </div>
  <div class="jump-to-date">
    <label for="month">Month:</label>
    <select id="month" [(ngModel)]="selectedMonth" (change)="jumpToDate()">
      <option *ngFor="let month of months" [value]="month">{{ month }}</option>
    </select>
    <label for="year">Year:</label>
    <input type="number" id="year" [(ngModel)]="selectedYear" (change)="jumpToDate()">
  </div>
  <div class="calendar-grid">
    <div class="day-name" *ngFor="let day of dayNames">{{ day }}</div>
    <div class="day" *ngFor="let day of days; let i = index" [class.has-event]="day.events.length" (click)="openModal(day)">
      <div class="date">{{ day.date?.getDate() }}</div>
      <div *ngIf="day.events.length > 0" class="events-info">
        {{ day.events.length }} events
      </div>
    </div>
  </div>

  <div class="modal" *ngIf="showModal">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">&times;</span>
      <h2>Events on {{ selectedDay.date | date:'fullDate' }}</h2>
      <div class="event-list">
        <div *ngFor="let event of selectedDay.events" class="event-card">
          <img [src]="event.images?.[0]?.url" alt="Event Image">
          <div class="details">
            <h3>{{ event.title }}</h3>
            <p><strong>Venue:</strong> {{ event.venue }}</p>
            <p><strong>Starts At:</strong> {{ event.start_time | date:'shortTime' }}</p>
            <p><strong>Ends At:</strong> {{ event.end_time | date:'shortTime' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
